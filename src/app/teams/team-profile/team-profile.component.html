<ng-container *ngIf="loading; else loaded">
  <app-loading></app-loading>
</ng-container>
<ng-template #loaded>
  <ng-container *ngIf="this.error; else elseTemplate">
    <div class="container">
      <h3 *ngIf="this.error.status == 404">This team doesn't exist</h3>
      <p>Redirecting to list of teams in 5 seconds...</p>
    </div>
  </ng-container>
  <ng-template #elseTemplate>
    <div class="container">
      <h2>Members</h2>
      <ul>
        <li *ngFor="let member of members">
          {{ member.full_name }}
          <a
            *ngIf="member._id != this.auth.currentUserId"
            href="javascript:void(0);"
            class="link"
            (click)="removeUser(member._id)"
            class="btn btn-outline-secondary mr-2"
            placement="top"
            ngbTooltip="Tooltip on top"
            >Remove User</a
          >
        </li>
      </ul>

      <div class="action-buttons">
        <button href="javascript:void(0);" (click)="leaveTeam()">
          Leave Team
        </button>
        <button
          href="javascript:void(0);"
          (click)="deleteTeam()"
          [attr.disabled]="this.members.length > 1 ? 'true' : 'null'"
        >
          Delete Team
        </button>
      </div>
    </div>
  </ng-template>
</ng-template>
